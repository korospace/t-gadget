function loadingCard(){for(let e=1;e<=10;e++){let t=`<a href="" class="loadingCard w-full ${e>6&&e<9?"hidden sm:flex":"flex"} ${e>=9?"hidden lg:flex":"flex"} flex-col rounded-tl-lg rounded-br-lg overflow-hidden opacity-60 animate-pulse">\n            <div class="bg-black w-full flex-1 relative flex justify-center items-center">\n                <img class="w-full opacity-0" src="${BASE_URL}asset/img/bg-produk.webp">\n            </div>\n            <div class="py-3">\n                <div class="flex">\n                    <span class="bg-black block w-3/5 h-2 mr-2 rounded-md"></span>\n                    <span class="bg-black block w-1/5 h-2 mr-2 rounded-md"></span>\n                    <span class="bg-black block w-1/5 h-2 rounded-md"></span>\n                </div>\n                <div class="flex mt-2">\n                    <span class="bg-black block w-3/5 h-2 rounded-md"></span>\n                </div>\n            </div>\n        </a>`;htmlToElements(t).forEach(e=>{productsWraper.insertBefore(e,productsWraper.lastElementChild)})}}function doXhr(e,t=null){return new Promise((o,r)=>{let a=new XMLHttpRequest;"PUT"==t?a.open("PUT",e,!0):a.open("GET",e,!0),a.setRequestHeader("api-key",API_KEY),a.send(),a.timeout=3e4,a.ontimeout=(()=>(r(Error("Ups, request timeout!")),0)),a.onload=(()=>{let e=JSON.parse(a.responseText);200==a.status||201==a.status?o(e):r(Error(e.message))})})}function doGetLink(){doXhr(API_URL+"get/socialmedia").then(e=>{let t=e.data;document.querySelector("a#tokopedia").setAttribute("data-href",t.tokopedia),document.querySelector("a#shopee").setAttribute("data-href",t.shopee),document.querySelector("a#lazada").setAttribute("data-href",t.lazada),document.querySelectorAll("a.whatsapp").forEach(e=>{e.setAttribute("data-href",t.whatsapp)})}).catch(e=>{console.log("method: doGetLinkSosmed"),console.log("error : "+e.message)})}function updateStatistic(e=null,t=null,o=null){null!==o&&o.preventDefault();let r=null!==t?t.dataset.href:null,a=doXhr(API_URL+"update/statistic"+e,"PUT");a.catch(e=>{console.log("method: updateStatistic"),console.log("error : "+e.message)}),null!==r&&("not available"!==r?window.open(r,"blank"):alert("Maaf, lapak belum tersedia"))}function doGetCategories(){doXhr(API_URL+"get/categories").then(e=>{elCategory='<span id="semua-kategori" class="bg-tgadget-100 min-w-max min-h-full block flex jusify-center items-center px-6 md:px-8 border-t border-tgadget-200 cursor-pointer opacity-80 hover:opacity-100">\n            semua kategori\n        </span>',e.data.sort((e,t)=>e.category_name.length-t.category_name.length).forEach(e=>{elCategory+=`<span class="min-w-max min-h-full block flex jusify-center items-center px-6 md:px-8 border-t border-l border-tgadget-200 cursor-pointer opacity-80 hover:opacity-100">\n                    ${e.category_name}\n                </span>`,categoriesWraper.innerHTML=elCategory}),categoriesWraper.querySelectorAll("span").forEach(e=>{e.addEventListener("click",e=>{clearInputKeyword(),categoriesWraper.querySelectorAll("span").forEach(e=>{e.classList.remove("bg-tgadget-100")}),e.target.classList.toggle("bg-tgadget-100"),"Semua Kategori"!==e.target.innerText?(btnLoadMore.setAttribute("data-filterby","kategori"),btnLoadMore.setAttribute("data-filterval",e.target.innerText.toLowerCase()),doGetProducts(0,"kategori",e.target.innerText.toLowerCase())):showAllProduct()})})}).catch(e=>{console.log("method: doGetCategories"),console.log("error : "+e.message)})}function showAllProduct(){document.querySelector("span#semua-kategori").classList.add("bg-tgadget-100"),btnLoadMore.removeAttribute("data-filterby"),btnLoadMore.removeAttribute("data-filterval"),cleanCard("productCard"),loadingCard(),doGetProducts(0,!1,!1),scrollToTopOfContent()}function doGetKeywords(){doXhr(API_URL+"get/keywords").then(e=>{e.data.map(e=>e.keyword.split("|")).map(e=>e.map(e=>keywords.push(e))),keywords=keywords.sort((e,t)=>e.length-t.length),document.querySelectorAll("li.loadingSugestion").forEach(e=>{e.remove()})}).catch(e=>{console.log("method: doGetKeywords"),console.log("error : "+e.message)})}function cancelSearch(){clearInputKeyword(),showAllProduct()}function clearInputKeyword(){searchIcon.style.opacity="1",searchIcon.src=BASE_URL+"asset/img/search.svg",inputKeyword.value="",sugestionsWraper.innerHTML=""}function doGetCountdown(){doXhr(API_URL+"get/countDown").then(e=>{let t=e.data;const o=()=>{const e=new Date(`${t.year}-${t.month}-${t.day}T00:00`).getTime(),o=(new Date).getTime(),r=e-o;document.querySelector("span#day").innerHTML=Math.floor(r/864e5),document.querySelector("span#hour").innerHTML=Math.floor(r%864e5/36e5),document.querySelector("span#minute").innerHTML=Math.floor(r%36e5/6e4),document.querySelector("span#second").innerHTML=Math.floor(r%6e4/1e3)};functCountDown=setInterval(()=>o(),1e3),imageCountD.src=t.poster,containerCountD.classList.remove("hidden"),imageCountD.onload=(()=>{imageCountD.previousElementSibling.remove()})}).catch(e=>{console.log("method: getCountDown"),console.log("error : "+e.message)})}function closeCountDown(e){e.target.classList.contains("close")&&(clearInterval(functCountDown),containerCountD.classList.add("hidden"))}function doGetBanners(){doXhr(API_URL+"get/banners").then(e=>{let t=e.data;t.forEach(e=>{bannerDesktop+=`<img src="${e.img_desktop}" class="img-banner w-full h-full">`,bannerMobile+=`<img src="${e.img_mobile}" class="img-banner w-full h-full">`}),glideTrackDesktop.innerHTML=bannerDesktop,glideTrackMobile.innerHTML=bannerMobile;let o={type:"carousel",focusAt:"center",autoplay:5e3,animationTimingFunc:"ease-in-out",animationDuration:1e3,gap:0,perView:1};new Glide("#glide_desktop",o).mount(),new Glide("#glide_mobile",o).mount(),document.querySelectorAll(".img-banner").forEach(e=>{e.onload=(()=>{document.querySelectorAll(".bg-wraper").forEach(e=>{e.classList.remove("bg-black"),e.classList.remove("animate-pulse"),e.classList.remove("opacity-0")}),document.querySelector("#glide_desktop").classList.add("shadow-card"),document.querySelector("#glide_mobile").classList.add("shadow-card")})});let r=document.querySelectorAll(".glide__arrow--left"),a=document.querySelectorAll(".glide__arrow--right");document.querySelectorAll(".glide").forEach(e=>{e.addEventListener("mouseenter",()=>{r.forEach(e=>{e.classList.remove("opacity-0"),e.classList.add("-translate-x-12")}),a.forEach(e=>{e.classList.remove("opacity-0"),e.classList.add("translate-x-12")})}),e.addEventListener("mouseleave",()=>{r.forEach(e=>{e.classList.add("opacity-0"),e.classList.remove("-translate-x-12")}),a.forEach(e=>{e.classList.add("opacity-0"),e.classList.remove("translate-x-12")})})})}).catch(e=>{console.log("method: getBanners"),console.log("error : "+e.message),glideTrackDesktop.innerHTML=`<div class="flex flex-col items-center justify-center"><img src="${BASE_URL}asset/img/notfound.webp" class="img-banner w-8 sm:w-12"><h1 class="mt-2 font-extrabold text-xs text-center">Ups, something wrong</h1></div>`,glideTrackMobile.innerHTML=`<div class="flex flex-col items-center justify-center"><img src="${BASE_URL}asset/img/notfound.webp" class="img-banner w-8 sm:w-12"><h1 class="mt-2 font-extrabold text-xs text-center">Ups, something wrong</h1></div>`;let t={type:"carousel",focusAt:"center",autoplay:5e3,animationTimingFunc:"ease-in-out",animationDuration:1e3,gap:0,perView:1};new Glide("#glide_desktop",t).mount(),new Glide("#glide_mobile",t).mount(),document.querySelectorAll(".bg-wraper").forEach(e=>{e.classList.remove("bg-black"),e.classList.remove("animate-pulse"),e.classList.remove("opacity-0")}),document.querySelector("#glide_desktop").classList.add("shadow-card"),document.querySelector("#glide_mobile").classList.add("shadow-card")})}function doGetProducts(e=0,t=!1,o=!1){let r="";t?(r=API_URL+`get/products?limit=11&offset=${e}&filterBy=${t}&filterVal=${o}`,cleanCard("productCard"),loadingCard(),scrollToTopOfContent()):r=API_URL+`get/products?limit=11&offset=${e}`,showError("",!1),doXhr(r).then(e=>{let o=e.data;o.length<=10?(btnLoadMore.innerText="no more product",setTimeout(()=>{btnLoadMore.classList.add("z-min-1"),btnLoadMore.classList.add("opacity-0"),btnLoadMore.classList.remove("opacity-80")},1e3)):(btnLoadMore.innerText="load more",btnLoadMore.classList.remove("z-min-1"),btnLoadMore.classList.remove("opacity-0"),btnLoadMore.classList.add("opacity-80")),"keyword"===t&&o.length<=0&&showError("Sory, product not found!",!0),o.forEach(e=>{let t=`<a href="" class="productCard bg-white relative w-full h-full flex flex-col rounded-tl-lg rounded-br-lg overflow-hidden shadow-card" onclick="cardOnClick(event,${e.id});">\n                    <span class="bg-black absolute z-30 top-0 right-0 px-2 py-1 text-tgadget-1000 text-xs sm-411:text-sm sm:text-xs" style="min-width: max-content;">Rp ${createHarga(e.price.toString())}</span>\n                    <div class="w-full relative flex justify-center items-center">\n                        <img class="img-bground w-full" src="${BASE_URL}asset/img/bg-produk.webp">\n                        <img class="absolute w-8 sm:w-12 opacity-80 imgLoading" src="${BASE_URL}asset/img/loading.svg">\n                        <div class="bg-white w-full absolute z-20">\n                            <img class="imgProduk w-full" src="${e.img}" alt="${e.name}">\n                        </div>\n                    </div>\n                    <div class="bg-tgadget-1000 flex-1 px-2 py-1 text-xs sm-411:text-base sm:text-sm md:text-base md-911:text-sm text-left text-black border-4 border-tgadget-1000">\n                        <span class="w-full" style="display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden;text-overflow: ellipsis;">${e.name}</span>\n                    </div>\n                </a>`;htmlToElements(t).forEach(e=>{productsWraper.insertBefore(e,productsWraper.lastElementChild)}),insertArray(e)}),rmImgSpinner(),cleanCard("loadingCard")}).catch(e=>{console.log("method: getProducts"),console.log("error : "+e.message),showError(`Ups, ${e.message}`,!0)})}function htmlToElements(e){var t=document.createElement("template");return t.innerHTML=e,t.content.childNodes}function insertArray(e){if(0==arrProducts.length)arrProducts.push(e);else{let t=arrProducts.find(t=>t.id==e.id);!t&&arrProducts.push(e)}}function createHarga(e){let t=1,o="",r="";for(let r=[...e].length-1;r>=0;r--)4==t?(o+="."+[...e][r],t=1):o+=[...e][r],t++;for(let e=o.length-1;e>=0;e--)r+=o[e];return r}function rmImgSpinner(){document.querySelectorAll("img.imgProduk").forEach(e=>{e.onload=(()=>{e.parentElement.previousElementSibling.remove()})})}function cleanCard(e){document.querySelectorAll(`.${e}`).forEach(e=>{e.remove()})}function scrollToTopOfContent(){window.scrollTo({top:sectionContent.offsetTop})}function cardOnClick(e,t){updateStatistic("?productid="+t,null,e);let o=arrProducts.find(e=>e.id==t);modalsDetail.querySelector(".img-product").src=o.img,modalsDetail.querySelector("#stok").innerText=1==o.stock?"ready":"habis",modalsDetail.querySelector("#product-name").innerText=o.name,modalsDetail.querySelector("#price").innerText="Rp "+createHarga(o.price.toString()),modalsDetail.querySelector("#description").innerHTML=o.deskripsi,""!==o.linktp&&(buyContainer.querySelector("#link-tokped-wraper").classList.remove("hidden"),buyContainer.querySelector("#link-tokped").innerText=o.linktp,buyContainer.querySelector("#btn-link-tokped").setAttribute("data-href",o.linktp),buyContainer.querySelector("#btn-link-tokped").setAttribute("onclick",`updateStatistic('?storename=tokopedia&productid=${o.id}',this,event);`)),""!==o.linksp&&(buyContainer.querySelector("#link-shopee-wraper").classList.remove("hidden"),buyContainer.querySelector("#link-shopee").innerText=o.linksp,buyContainer.querySelector("#btn-link-shopee").setAttribute("data-href",o.linksp),buyContainer.querySelector("#btn-link-shopee").setAttribute("onclick",`updateStatistic('?storename=shopee&productid=${o.id}',this,event);`)),""!==o.linklz&&(buyContainer.querySelector("#link-lazada-wraper").classList.remove("hidden"),buyContainer.querySelector("#link-lazada").innerText=o.linklz,buyContainer.querySelector("#btn-link-lazada").setAttribute("data-href",o.linklz),buyContainer.querySelector("#btn-link-lazada").setAttribute("onclick",`updateStatistic('?storename=lazada&productid=${o.id}',this,event);`)),""!==o.linkwa&&(buyContainer.querySelector("#link-wa-wraper").classList.remove("hidden"),buyContainer.querySelector("#link-wa").innerText=o.linkwa,buyContainer.querySelector("#btn-link-wa").setAttribute("data-href",o.linkwa),buyContainer.querySelector("#btn-link-wa").setAttribute("onclick",`updateStatistic('?storename=whatsapp&productid=${o.id}',this,event);`)),document.body.classList.add("overflow-hidden"),modalsDetail.classList.toggle("hidden"),setTimeout(()=>{detailContainer.classList.remove("delay-500"),btnClose.classList.add("delay-500"),leftSide.classList.add("delay-500"),rightSide.classList.add("delay-500"),detailContainer.classList.toggle("h-6/7"),btnClose.classList.toggle("opacity-0"),leftSide.classList.toggle("opacity-0"),rightSide.classList.toggle("opacity-0")},50)}function createLi(e){let t="";return e.split("|").forEach(e=>{t+=`<li>${e}</li>`}),t}function openLinkForBuy(){buyContainer.classList.remove("hidden"),setTimeout(()=>{bgOuter.classList.remove("scale-90"),bgOuter.classList.remove("opacity-0")},50)}let productsWraper=document.querySelector("#products-wraper"),btnLoadMore=document.querySelector("#load-more"),arrProducts=[];loadingCard(),window.onload=(()=>{navigator.onLine||showError("Ups, connection lost!",!0),document.querySelector("#divloader").classList.add("hidden"),doGetLink(),doGetCategories(),doGetKeywords(),doGetCountdown(),doGetBanners(),doGetProducts()}),!0===NewVisitor&&updateStatistic("?storename=ourwebsite");let sectionContent=document.querySelector("section#content"),burgerCategory=document.querySelector("#burger-category"),categoriesContainer=document.querySelector("#categories-container"),categoriesWraper=document.querySelector("#categories-wraper"),elCategory="";for(let e=0;e<10;e++)elCategory+=`<span class="w-36 min-h-full flex flex-col justify-center px-6 md:px-8 ${e>0?"border-l border-tgadget-200":""} cursor-pointer opacity-90">\n        <div class="w-full flex items-center">\n            <span class="bg-tgadget-1000 w-3/5 h-1 sm:h-1.5 mr-2 animate-pulse rounded-sm"></span>\n            <span class="bg-tgadget-1000 w-1/5 h-1 sm:h-1.5 mr-2 animate-pulse rounded-sm"></span>\n            <span class="bg-tgadget-1000 w-1/5 h-1 sm:h-1.5 animate-pulse rounded-sm"></span>\n        </div>\n        <div class="w-full flex items-center mt-2">\n            <span class="bg-tgadget-1000 w-4/5 h-1 sm:h-1.5 mr-2 animate-pulse rounded-sm"></span>\n        </div>\n    </span>`,categoriesWraper.innerHTML=elCategory;burgerCategory.addEventListener("click",()=>{burgerCategory.classList.toggle("bg-tgadget-200"),"sm:h-0 sm:border-0 sm:overflow-hidden".split(" ").forEach((e,t)=>{setTimeout(()=>{categoriesContainer.classList.toggle(e)},2===t?300:0)}),categoriesWraper.classList.toggle("sm:hidden")});let inputKeyword=document.querySelector("#input-keyword"),sugestionsWraper=document.querySelector("#sugestions-wraper"),searchIcon=document.querySelector("label[for=input-keyword] img"),keywords=[];inputKeyword.addEventListener("keyup",()=>{""===inputKeyword.value?(searchIcon.style.opacity="1",searchIcon.src=BASE_URL+"asset/img/search.svg",sugestionsWraper.innerHTML=""):(searchIcon.style.opacity="0.8",searchIcon.src=BASE_URL+"asset/img/cancel.svg",createSugestions(inputKeyword.value))});let createSugestions=e=>{let t="";if(keywords.length<=0)for(let e=0;e<6;e++)t+='<li class="loadingSugestion w-full flex items-center px-3 py-4 sm:py-6 text-left cursor-pointer hover:bg-gray-200" style="border-bottom:1px solid rgba(49,53,59,0.4);">\n                <span class="bg-gray-400 w-full h-1.5 animate-pulse rounded-sm opacity-80"></span>\n            </li>';else keywords.forEach(o=>{o.includes(e)&&(t+=`<li class="liSugestion w-full block px-3 py-4 sm:py-6 text-left cursor-pointer hover:bg-gray-200" style="border-bottom:1px solid rgba(49,53,59,0.4);" data-value="${o}">${o}</li>`)}),t+=`<li class="liSugestion w-full block px-3 py-4 sm:py-6 text-left cursor-pointer hover:bg-gray-200" style="border-bottom:1px solid rgba(49,53,59,0.4);" data-value="${e}">cari "${e}"</li>`;sugestionsWraper.innerHTML=t};window.addEventListener("click",e=>{e.target.classList.contains("liSugestion")?(sugestionsWraper.innerHTML="",categoriesWraper.querySelectorAll("span").forEach(e=>{e.classList.remove("bg-tgadget-100")}),btnLoadMore.setAttribute("data-filterby","keyword"),btnLoadMore.setAttribute("data-filterval",e.target.dataset.value),doGetProducts(0,"keyword",e.target.dataset.value)):sugestionsWraper.innerHTML=""});let functCountDown="",containerCountD=document.querySelector("#countdown-container"),imageCountD=document.querySelector("#countdown-img"),glideTrackDesktop=document.querySelector("#glide-track-desktop .glide__slides"),glideTrackMobile=document.querySelector("#glide-track-mobile .glide__slides"),bannerDesktop="",bannerMobile="";btnLoadMore.addEventListener("click",e=>{let t=document.querySelectorAll(".productCard").length,o=void 0!==btnLoadMore.dataset.filterby&&btnLoadMore.dataset.filterby,r=void 0!==btnLoadMore.dataset.filterval&&btnLoadMore.dataset.filterval;e.target.innerHTML=`<img class="w-6" src="${BASE_URL}asset/img/loading.svg"/>`,doGetProducts(t,o,r)});let modalsDetail=document.querySelector("#modals-detail"),btnClose=modalsDetail.querySelector("#btn-close"),detailContainer=modalsDetail.querySelector("#detail-container"),leftSide=modalsDetail.querySelector("#left-side"),rightSide=modalsDetail.querySelector("#right-side");modalsDetail.addEventListener("click",e=>{e.target.classList.contains("close")&&(document.body.classList.remove("overflow-hidden"),btnClose.classList.remove("delay-500"),leftSide.classList.remove("delay-500"),rightSide.classList.remove("delay-500"),detailContainer.classList.add("delay-500"),btnClose.classList.toggle("opacity-0"),leftSide.classList.toggle("opacity-0"),rightSide.classList.toggle("opacity-0"),detailContainer.classList.toggle("h-6/7"),setTimeout(()=>{modalsDetail.classList.toggle("hidden"),rightSide.classList.contains("top-20")&&doUpAndDown()},900))});let buyContainer=document.querySelector("#buy-container"),bgOuter=buyContainer.querySelector("#bg-outer");buyContainer.addEventListener("click",e=>{e.target.classList.contains("close")&&(bgOuter.classList.add("scale-90"),bgOuter.classList.add("opacity-0"),setTimeout(()=>{buyContainer.classList.add("hidden")},300))});let btnUpAndDown=document.querySelector("#upAndDown"),descriptionWraper=document.querySelector("#description-wraper"),doUpAndDown=()=>{btnUpAndDown.classList.toggle("rotate-180"),rightSide.classList.toggle("top-20"),descriptionWraper.classList.toggle("sm:block"),descriptionWraper.classList.toggle("hidden"),setTimeout(()=>{descriptionWraper.classList.toggle("sm:opacity-100"),descriptionWraper.classList.toggle("opacity-0")},50)};